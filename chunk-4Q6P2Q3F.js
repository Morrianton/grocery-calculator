import{$ as O,A as F,C as _,J as a,K as N,L as U,M,N as q,O as B,P,Q as $,R as k,V as w,W as T,X as j,a as s,aa as G,b,c as S,ea as V,f as d,fa as A,g as u,h as y,ha as D,i as x,ia as L,j as h,ja as z,k as t,l as e,m as p,ma as H,na as Q,o as f,oa as R,q as i,qa as J,r as E,s as I,y as C}from"./chunk-WHBBSG3Z.js";import{e as v}from"./chunk-JHI3MBHO.js";var K={production:!0,apiUrl:"https://grocery-calculator-yvsk.onrender.com/api/grocery-items"};var W=(()=>{let o=class o{constructor(n){this.http=n,this.apiUrl=K.apiUrl}getItems(){return s(this.http.get(this.apiUrl))}getItem(n){return s(this.http.get(`${this.apiUrl}/${n}`))}addItem(n){return s(this.http.post(this.apiUrl,n))}updateItem(n,r){return s(this.http.put(`${this.apiUrl}/${n}`,r))}deleteItem(n){return s(this.http.delete(`${this.apiUrl}/${n}`))}clearCart(){return s(this.http.delete(`${this.apiUrl}`))}};o.\u0275fac=function(r){return new(r||o)(S(_))},o.\u0275prov=b({token:o,factory:o.\u0275fac,providedIn:"root"});let l=o;return l})();function Z(l,o){l&1&&(t(0,"span"),i(1,"$"),e())}var de=(()=>{let o=class o{constructor(n,r,m){this.formBuilder=n,this.modalCtrl=r,this.groceryService=m,this.mode="add",this.itemForm=this.formBuilder.group({name:["",[a.required,a.minLength(2)]],quantity:[1,[a.required,a.min(.01)]],unit:["item",[a.required]],price:["",[a.required,a.min(.01)]],isFood:[!0,a.required]})}ngOnInit(){this.mode==="edit"&&this.item&&this.itemForm.patchValue(this.item)}onSubmit(){return v(this,null,function*(){if(this.itemForm.valid)try{this.mode==="add"?yield this.groceryService.addItem(this.itemForm.value):yield this.groceryService.updateItem(this.item._id,this.itemForm.value),this.modalCtrl.dismiss({success:!0})}catch(n){console.error("Error saving item:",n)}})}cancel(){this.modalCtrl.dismiss()}};o.\u0275fac=function(r){return new(r||o)(u(P),u(J),u(W))},o.\u0275cmp=y({type:o,selectors:[["app-item-form"]],inputs:{mode:"mode",item:"item"},decls:50,vars:6,consts:[["slot","end"],[3,"click"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","stacked"],["type","text","formControlName","name","placeholder","Enter item name"],["type","number","formControlName","quantity","placeholder","Enter quantity","min","0.01","step","0.01"],["formControlName","unit"],["value","item"],["value","lb"],["value","oz"],["value","gallon"],["value","box"],["value","bag"],["value","bottle"],[1,"input-wrapper"],[4,"ngIf"],["type","number","formControlName","price","placeholder","Enter price","min","0.01","step","0.01"],["formControlName","isFood"],["expand","block","type","submit",3,"disabled"]],template:function(r,m){if(r&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i(3),e(),t(4,"ion-buttons",0)(5,"ion-button",1),f("click",function(){return m.cancel()}),i(6," Cancel "),e()()()(),t(7,"ion-content",2)(8,"form",3),f("ngSubmit",function(){return m.onSubmit()}),t(9,"ion-list")(10,"ion-item")(11,"ion-label",4),i(12,"Item Name"),e(),p(13,"ion-input",5),e(),t(14,"ion-item")(15,"ion-label",4),i(16,"Quantity"),e(),p(17,"ion-input",6),e(),t(18,"ion-item")(19,"ion-label",4),i(20,"Unit"),e(),t(21,"ion-select",7)(22,"ion-select-option",8),i(23,"Item"),e(),t(24,"ion-select-option",9),i(25,"Pound (lb)"),e(),t(26,"ion-select-option",10),i(27,"Ounce (oz)"),e(),t(28,"ion-select-option",11),i(29,"Gallon"),e(),t(30,"ion-select-option",12),i(31,"Box"),e(),t(32,"ion-select-option",13),i(33,"Bag"),e(),i(34,"\xA0 "),t(35,"ion-select-option",14),i(36,"Bottle"),e()()(),t(37,"ion-item")(38,"ion-label",4),i(39),e(),t(40,"div",15),x(41,Z,2,0,"span",16),p(42,"ion-input",17),e()(),t(43,"ion-item")(44,"ion-label"),i(45,"Is this a food item?"),e(),p(46,"ion-toggle",18),e()(),t(47,"div",2)(48,"ion-button",19),i(49),e()()()()),r&2){let c,g;d(3),E(m.mode==="add"?"Add Item":"Edit Item"),d(5),h("formGroup",m.itemForm),d(31),I("Price per ",((c=m.itemForm.get("unit"))==null?null:c.value)||"unit"),d(2),h("ngIf",(g=m.itemForm.get("price"))==null?null:g.value),d(7),h("disabled",!m.itemForm.valid),d(),I(" ",m.mode==="add"?"Add to Cart":"Update Item"," ")}},dependencies:[F,C,$,M,N,U,k,q,B,O,z,L,T,w,j,A,G,V,H,Q,D,R],styles:[".input-wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row}ion-content[_ngcontent-%COMP%]{--padding: 16px}ion-list[_ngcontent-%COMP%]{margin-bottom:16px}"]});let l=o;return l})();export{W as a,de as b};
